<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.asc.asc.trd.asc.entryexitaccount.mapper.EntryExitAccountMapper">
    <resultMap id="resultMap" type="com.example.asc.asc.trd.asc.entryexitaccount.domain.EntryExitAccount">
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="userId" jdbcType="INTEGER" property="userId"/>
        <result column="userAccountId" jdbcType="INTEGER" property="userAccountId"/>
        <result column="date" jdbcType="DATE" property="date"/>
        <result column="money" jdbcType="INTEGER" property="money"/>
        <result column="payType" jdbcType="VARCHAR" property="payType"/>
        <result column="secPayType" jdbcType="VARCHAR" property="secPayType"/>
        <result column="subject" jdbcType="VARCHAR" property="subject"/>
        <result column="goodsDesc" jdbcType="VARCHAR" property="goodsDesc"/>
        <result column="ptnSrl" jdbcType="VARCHAR" property="ptnSrl"/>
        <result column="platSrl" jdbcType="VARCHAR" property="platSrl"/>
        <result column="orderNo" jdbcType="VARCHAR" property="orderNo"/>
        <result column="status" jdbcType="INTEGER" property="status"/>
        <result column="clientStatus" jdbcType="VARCHAR" property="clientStatus"/>
        <result column="sendToClientTimes" jdbcType="VARCHAR" property="sendToClientTimes"/>
        <result column="usage" jdbcType="VARCHAR" property="usage"/>
        <result column="reqFlg" jdbcType="VARCHAR" property="reqFlg"/>
        <result column="notificationUrl" jdbcType="VARCHAR" property="notificationUrl"/>
        <result column="servnoticeUrl" jdbcType="VARCHAR" property="servnoticeUrl"/>
        <result column="url" jdbcType="VARCHAR" property="url"/>
        <result column="imageUrl" jdbcType="VARCHAR" property="imageUrl"/>
        <result column="created_at" jdbcType="TIMESTAMP" property="createdAt"/>
        <result column="updated_at" jdbcType="TIMESTAMP" property="updatedAt"/>
        <result column="deleted_at" jdbcType="TIMESTAMP" property="deletedAt"/>
    </resultMap>

    <insert id="insert">
        insert into entry_exit_account (userId,userAccountId,date,money,payType,secPayType,subject,goodsDesc,ptnSrl,platSrl,
            orderNo,status,clientStatus,sendToClientTimes,`usage`,reqFlg,notificationUrl,servnoticeUrl,url,imageUrl,created_at,updated_at)
        values(#{userId,jdbcType=INTEGER},#{userAccountId,jdbcType=INTEGER},#{date,jdbcType=DATE}, #{money,jdbcType=INTEGER},
        #{payType,jdbcType=CHAR},#{secPayType,jdbcType=CHAR},#{subject,jdbcType=CHAR},#{goodsDesc,jdbcType=CHAR},#{ptnSrl,jdbcType=CHAR},
        #{platSrl,jdbcType=CHAR},#{orderNo,jdbcType=INTEGER},#{status,jdbcType=CHAR},#{clientStatus,jdbcType=CHAR},#{sendToClientTimes,jdbcType=CHAR},
        #{usage,jdbcType=CHAR},#{reqFlg,jdbcType=CHAR},#{notificationUrl,jdbcType=CHAR},#{servnoticeUrl,jdbcType=CHAR},#{url,jdbcType=CHAR},
        #{imageUrl,jdbcType=CHAR},#{createdAt,jdbcType=CHAR}, #{updatedAt,jdbcType=CHAR})
    </insert>

    <select id="findByPtnSrl" resultMap="resultMap">
         select * from entry_exit_account where ptnSrl = #{ptnSrl}
    </select>

    <update id="update" parameterType="com.example.asc.asc.trd.asc.entryexitaccount.domain.EntryExitAccount">
        UPDATE entry_exit_account
        SET status = #{account.status,jdbcType=VARCHAR},clientStatus = #{account.clientStatus,jdbcType=VARCHAR},updated_at = now()
        WHERE  id = #{id}
    </update>

</mapper>